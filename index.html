
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>حاسبة معايير الترقية</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <style>
    body { font-family: 'Tajawal', sans-serif; background-color: #f8f9fa; padding: 20px; }
    .result-box { margin: 10px 0; padding: 10px; background: #fff; border-radius: 8px; }
    .progress-bar { height: 5px; border-radius: 4px; margin-top: 5px; }
    .buttons { margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
    @media (max-width: 600px) {
      select, input, button { width: 100%; font-size: 16px; }
    }
  </style>
</head>
<body>

<div style="text-align:center;">
  <img src="https://i.imgur.com/Ou7CkUT.png" style="width:100px;" alt="Logo">
  <h1>حاسبة معايير الترقية الوظيفية</h1>
</div>

<p>📊 المعيار الأول: تقييم الأداء الوظيفي (30%)</p>
<select id="performanceRating">
  <option value="100">ممتاز (100%)</option>
  <option value="75">جيد جداً (75%)</option>
  <option value="60">جيد (60%)</option>
</select>
<div class="result-box"><span>النتيجة:</span> <span id="performanceScore">0%</span>
  <div class="progress-bar" id="performanceBar" style="background:blue; width:0%;"></div>
</div>

<p>🎓 المعيار الثاني: التدريب والتطوير (40%)</p>
<select id="certProgram">
  <option value="0">لا يوجد</option>
  <option value="80">دولي</option>
  <option value="60">حكومي</option>
  <option value="40">خاص</option>
</select>
<select id="trainingPrograms">
  <option value="0">لا يوجد</option>
  <option value="15">برنامج واحد</option>
  <option value="30">برنامجين</option>
</select>
<input type="number" id="selfLearningCount" value="0" min="0" max="20" placeholder="عدد برامج التعليم الذاتي">
<select id="onJobTraining">
  <option value="0">لا يوجد</option>
  <option value="25">جيد جداً</option>
  <option value="50">ممتاز</option>
</select>
<div class="result-box"><span>النتيجة:</span> <span id="developmentScore">0%</span>
  <div class="progress-bar" id="developmentBar" style="background:green; width:0%;"></div>
</div>

<p>🧠 المعيار الثالث: اختبار القدرة المعرفية (30%)</p>
<input type="number" id="examScore" value="50" min="0" max="100" placeholder="درجة الاختبار من 100">
<div class="result-box"><span>النتيجة:</span> <span id="examResultScore">0%</span>
  <div class="progress-bar" id="examBar" style="background:orange; width:0%;"></div>
</div>

<h2>🔚 النتيجة النهائية:</h2>
<div class="result-box" id="reportBox">
  <p>الأداء: <span id="finalPerformanceScore">0%</span></p>
  <p>التدريب: <span id="finalDevelopmentScore">0%</span></p>
  <p>القدرة المعرفية: <span id="finalExamScore">0%</span></p>
  <p><strong>المجموع: <span id="totalScore">0%</span></strong></p>
  <div class="progress-bar" id="totalBar" style="height: 10px; width:0%; background:purple;"></div>
  <p id="interpretation" style="margin-top:10px; font-weight:bold; color:#333;"></p>
</div>

<div class="buttons">
  <button onclick="calculateTotal()">🧮 حساب النتيجة</button>
  <button onclick="resetForm()">🔄 إعادة تعيين</button>
  <button onclick="downloadPDF()">📥 تحميل PDF</button>
</div>

<footer style="text-align:center; margin-top:40px; font-size:13px; color:#999;">
  © 2023 حاسبة معايير الترقية - جميع الحقوق محفوظة
</footer>

<script>
  function calculatePerformance() {
    const rating = parseFloat(document.getElementById('performanceRating').value);
    const score = (rating / 100) * 30;
    document.getElementById('performanceScore').textContent = score.toFixed(2) + '%';
    document.getElementById('performanceBar').style.width = rating + '%';
    document.getElementById('finalPerformanceScore').textContent = score.toFixed(2) + '%';
    return score;
  }

  function calculateDevelopment() {
    let val = 0;
    val += parseFloat(document.getElementById('certProgram').value);
    val += parseFloat(document.getElementById('trainingPrograms').value);
    val += Math.min(20, parseFloat(document.getElementById('selfLearningCount').value)) * 0.05;
    val += parseFloat(document.getElementById('onJobTraining').value);
    val = Math.min(val, 100);
    const score = (val / 100) * 40;
    document.getElementById('developmentScore').textContent = score.toFixed(2) + '%';
    document.getElementById('developmentBar').style.width = val + '%';
    document.getElementById('finalDevelopmentScore').textContent = score.toFixed(2) + '%';
    return score;
  }

  function calculateExam() {
    const score = parseFloat(document.getElementById('examScore').value);
    let final = score >= 50 ? (score / 100) * 30 : 0;
    document.getElementById('examResultScore').textContent = final.toFixed(2) + '%';
    document.getElementById('examBar').style.width = (score >= 50 ? score : 0) + '%';
    document.getElementById('finalExamScore').textContent = final.toFixed(2) + '%';
    return final;
  }

  function calculateTotal() {
    const perf = calculatePerformance();
    const dev = calculateDevelopment();
    const exam = calculateExam();
    const total = perf + dev + exam;
    document.getElementById('totalScore').textContent = total.toFixed(2) + '%';
    const bar = document.getElementById('totalBar');
    bar.style.width = total + '%';
    bar.style.background = total >= 85 ? 'green' : total >= 60 ? 'orange' : 'red';

    let interpretation = '';
    if (total >= 90) {
      interpretation = '🌟 أداء متميز جدًا، فرص الترقية عالية.';
    } else if (total >= 75) {
      interpretation = '✅ أداء جيد جدًا، لكن هناك مجال للتحسين.';
    } else if (total >= 60) {
      interpretation = '⚠️ قريب من الحد الأدنى، يفضل تطوير بعض الجوانب.';
    } else {
      interpretation = '❌ تحتاج إلى تحسين كبير في المعايير لتحقيق الترقية.';
    }
    document.getElementById('interpretation').textContent = interpretation;
  }

  function resetForm() {
    document.getElementById('performanceRating').value = '100';
    document.getElementById('certProgram').value = '0';
    document.getElementById('trainingPrograms').value = '0';
    document.getElementById('selfLearningCount').value = '0';
    document.getElementById('onJobTraining').value = '0';
    document.getElementById('examScore').value = '50';
    calculateTotal();
  }

  function downloadPDF() {
    const element = document.getElementById('reportBox');
    html2pdf().from(element).save('ترقية_وظيفية.pdf');
  }

  calculateTotal();
</script>

</body>
</html>
